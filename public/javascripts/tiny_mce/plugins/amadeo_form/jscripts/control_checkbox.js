function initCheckbox(){var inst=tinyMCE.getInstanceById(tinyMCE.getWindowArg('editor_id'));var focusElm=inst.getFocusElement();var nodeName=focusElm.nodeName.toLowerCase();if((nodeName=="input")&&(focusElm.type.toLowerCase()=='checkbox')){editing=focusElm;document.getElementById('ed_name').value=focusElm.name.replace(/^chk_/,'');document.getElementById('ed_desc').value=focusElm.title;document.getElementById('ed_value').value=focusElm.value;document.getElementById('chk_checked').checked=focusElm.checked;document.getElementById('chk_valid_mandatory').checked=(focusElm.className.toLowerCase()=='mandatory');}else{editing=null;}}function insertCheckbox(){var inst=tinyMCE.getInstanceById(tinyMCE.getWindowArg('editor_id'));var cName=document.getElementById('ed_name').value;var cDesc=document.getElementById('ed_desc').value;var cValue=document.getElementById('ed_value').value;if(cName==''){alert(tinyMCE.entityDecode(tinyMCE.getLang('lang_amadeo_form_err_name_mandatory')));return false;}else{cName='chk_'+cName;}if(!editing&&inst.contentWindow.document.getElementById(cName)){alert(tinyMCE.entityDecode(tinyMCE.getLang('lang_amadeo_form_err_name_unique')));return false;}if(cValue==''){alert(tinyMCE.entityDecode(tinyMCE.getLang('lang_amadeo_form_err_value_mandatory')));return false;}if(document.getElementById('chk_valid_mandatory').checked){className='mandatory';}else{className='';}inst.execCommand('mceBeginUndoLevel');var isNew=(editing==null);if(isNew){editing=inst.getDoc().createElement('input');editing.setAttribute('type','checkbox');}editing.id=cName;editing.name=cName;editing.title=cDesc;editing.setAttribute('value',cValue);editing.className=className;if(isNew){inst.getFocusElement().appendChild(editing);}if(document.getElementById('chk_checked').checked){editing.checked=true;editing.setAttribute('checked','checked');}else{editing.setAttribute('checked','');editing.removeAttribute('checked');}inst.execCommand("mceEndUndoLevel");tinyMCEPopup.close();}